(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{14:function(t,e,n){t.exports={form:"AddContact_form__3swa2",inputName:"AddContact_inputName__2_4ya",inputNumber:"AddContact_inputNumber__1Nsyu",buttonAddContacts:"AddContact_buttonAddContacts__3ecAs"}},16:function(t,e,n){t.exports={listItem:"OneContact_listItem__a8j5_",contactName:"OneContact_contactName__2uuXy",contactNumber:"OneContact_contactNumber__1wrkR",deleteButton:"OneContact_deleteButton__2qBVP"}},20:function(t,e,n){t.exports={wrapper:"FilterConatcts_wrapper__22vG2",inputName:"FilterConatcts_inputName__1gssl",filter:"FilterConatcts_filter__DNU8T"}},47:function(t,e,n){},66:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){"use strict";n.r(e);var c,a,o=n(0),r=n(10),u=n.n(r),s=n(6),b=n(2),i=n(4),l=n(5),j=n(25),m=Object(b.b)("phonebook/addContactRequest"),O=Object(b.b)("phonebook/addContactSuccess"),d=Object(b.b)("phonebook/addContactError"),f=Object(b.b)("phonebook/fetchContactRequest"),p=Object(b.b)("phonebook/fetchContactSuccess"),h=Object(b.b)("phonebook/fetchContactError"),x=Object(b.b)("phonebook/removeContactRequest"),N=Object(b.b)("phonebook/removeContactSuccess"),_=Object(b.b)("phonebook/removeContactError"),C=Object(b.b)("phonebook/setFilter"),v=Object(b.c)([],(c={},Object(l.a)(c,O,(function(t,e){return[].concat(Object(j.a)(t),[e.payload])})),Object(l.a)(c,p,(function(t,e){return Object(j.a)(e.payload)})),Object(l.a)(c,N,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c)),g=Object(b.c)("",Object(l.a)({},C,(function(t,e){return e.payload}))),k=Object(b.c)(null,(a={},Object(l.a)(a,d,(function(t,e){return e.payload})),Object(l.a)(a,O,(function(){return null})),Object(l.a)(a,h,(function(t,e){return e.payload})),Object(l.a)(a,p,(function(){return null})),Object(l.a)(a,_,(function(t,e){return e.payload})),Object(l.a)(a,N,(function(){return null})),a)),y=Object(i.c)({items:v,filter:g,error:k}),w=Object(i.c)({contacts:y}),E=Object(b.a)({reducer:w}),A=(n(47),n(3)),F=n(36),P=n(14),B=n.n(P),D=n(15),I=n.n(D);I.a.defaults.baseURL="https://phonebook-vs-default-rtdb.firebaseio.com";var L=n(18),R=function(t){return t.contacts.items},S=function(t){return t.contacts.filter},q=function(t){return t.contacts.error},M=Object(L.a)([R,S],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),H=n(71),J=(n(66),n(1)),U=function(t){var e=t.message;return Object(J.jsx)("div",{className:"alert",children:e})},G={name:"",number:"",alert:!1},T=function(){var t=Object(o.useState)(Object(A.a)({},G)),e=Object(F.a)(t,2),n=e[0],c=e[1],a=Object(s.c)(R),r=Object(s.b)();Object(o.useEffect)((function(){r((function(t){t(f()),I.a.get("/contacts.json").then((function(e){var n=e.data,c=Object.keys(n).map((function(t){return Object(A.a)({id:t},n[t])}));t(p(c))})).catch((function(e){return t(h(e))}))}))}),[]);var u=function(t){var e=t.target,n=e.name,a=e.value;c((function(t){return Object(A.a)(Object(A.a)({},t),{},Object(l.a)({},n,a))}))};return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)("form",{className:B.a.form,autoComplete:"off",onSubmit:function(t){t.preventDefault();var e,o=n.name,u=n.number;return o&&u?o.length<2||u.length<2?c((function(t){return Object(A.a)(Object(A.a)({},t),{},{alert:!0,alertMessage:"Please enter correct name and number!"})})):(a.some((function(t){return t.name.toLowerCase()===o.toLowerCase()}))?c((function(t){return Object(A.a)(Object(A.a)({},t),{},{alert:!0,alertMessage:"".concat(o," is already in contacts!")})})):r((e={name:o,number:u},function(t){t(m()),I.a.post("/contacts.json",e).then((function(n){var c=n.data;t(O(Object(A.a)(Object(A.a)({},e),{},{id:c.name})))})).catch((function(e){return t(d(e))}))})),void c((function(t){return Object(A.a)(Object(A.a)({},t),{},{name:"",number:""})}))):c((function(t){return Object(A.a)(Object(A.a)({},t),{},{alert:!0,alertMessage:"Please enter name and number!"})}))},children:[Object(J.jsx)("input",{className:B.a.inputName,type:"text",name:"name",placeholder:"Full Name",value:n.name,onChange:u}),Object(J.jsx)("input",{className:B.a.inputNumber,type:"text",name:"number",placeholder:"Nubmer xxx-xx-xx",value:n.number,onChange:u}),Object(J.jsx)("button",{type:"submit",className:B.a.buttonAddContacts,children:"Add contacts?"})]}),Object(J.jsx)(H.a,{in:n.alert,classNames:"alert",onEntered:function(){return c((function(t){return Object(A.a)(Object(A.a)({},t),{},{alert:!1})}))},timeout:3e3,unmountOnExit:!0,children:Object(J.jsx)(U,{message:n.alertMessage})})]})},V=n(16),X=n.n(V),z=function(t){var e=t.contact,n=e.id,c=e.name,a=e.number,o=t.userDeleteHandler;return Object(J.jsxs)("li",{className:X.a.listItem,children:[Object(J.jsx)("p",{className:X.a.contactName,children:c}),Object(J.jsx)("p",{className:X.a.contactNumber,children:a}),Object(J.jsx)("button",{className:X.a.deleteButton,"data-id":n,onClick:o,children:"Delete"})]})},K=n(72),Q=(n(68),function(){var t=Object(s.c)(M),e=Object(s.b)(),n=function(t){var n=t.target.dataset.id;e(function(t){return function(e){e(x()),I.a.delete("/contacts/".concat(t,".json")).then((function(){return e(N(t))})).catch((function(t){return e(_(t))}))}}(n)),e(C(""))};return Object(J.jsx)(K.a,{component:"ul",children:t.map((function(t){return Object(J.jsx)(H.a,{timeout:250,classNames:"listItem",children:Object(J.jsx)(z,{contact:t,userDeleteHandler:n})},t.id)}))})}),W=n(20),Y=n.n(W),Z=function(){var t=Object(s.c)(S),e=Object(s.b)();return Object(J.jsxs)("div",{className:Y.a.wrapper,children:[Object(J.jsx)("p",{className:Y.a.inputName,children:"Find contacts by name"}),Object(J.jsx)("input",{type:"text",value:t,placeholder:"Enter name",onChange:function(t){var n=t.target.value;e(C(n))},className:Y.a.filter})]})};var $=function(){var t=Object(s.c)(R),e=Object(s.c)(q);return Object(J.jsxs)("div",{className:"container",children:[Object(J.jsx)(H.a,{in:!0,appear:!0,timeout:500,classNames:"titlePhonebook",unmountOnExit:!0,children:Object(J.jsx)("h1",{className:"titlePhonebook",children:"Phonebook"})}),Object(J.jsx)(T,{}),Object(J.jsx)(H.a,{in:t.length>1,classNames:"filter",timeout:250,unmountOnExit:!0,children:Object(J.jsx)(Z,{})}),Object(J.jsx)(Q,{}),e&&Object(J.jsx)(U,{message:e.message})]})};n(69);u.a.render(Object(J.jsx)(s.a,{store:E,children:Object(J.jsx)($,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.ea76dad4.chunk.js.map